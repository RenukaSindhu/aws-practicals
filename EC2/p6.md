# Practical 6: EC2 Blue-Green Deployment

## Steps Performed
1. Prepared Blue environment:
   - Launched 2 EC2 instances (Blue-Server1 in AZ 1a, Blue-Server2 in AZ 1b).
   - Applied user-data script to install Apache and deploy **Villa Agency** template.
   - Verified application served via `/index.html`.
2. Prepared Green environment:
   - Launched 2 EC2 instances (Green-Server1 in AZ 1a, Green-Server2 in AZ 1b).
   - Applied user-data script to install Apache and deploy **Klassy Cafe** template.
   - Verified application served via `/index.html`.
3. Configured Application Load Balancer (ALB):
   - Created Target Groups (Blue-TG and Green-TG).
   - Registered Blue servers in Blue-TG and Green servers in Green-TG.
   - Configured health checks on `/index.html`.
   - Enabled listeners for HTTP (80) and HTTPS (443) with ACM certificate.
4. Tested Blue-Green deployment:
   - Accessed application via Route 53 DNS (e.g., `http://boom.com`).
   - Verified traffic routing to Blue environment.
   - Switched routing to Green environment for update.
   - Confirmed zero downtime during switch.
5. Reviewed ALB actions:
   - Verified path-based routing rules.
   - Checked target group health status.
   - Tested failover by stopping one instance.
6. Cleaned up resources:
   - Terminated EC2 instances.
   - Deleted ALB, Target Groups, and Route 53 records.

## Key Screenshots
- ![Blue Environment User Data](./screenshots/ec2-p6/blue-userdata.png)
- ![Green Environment User Data](./screenshots/ec2-p6/green-userdata.png)
- ![Villa Agency Website](./screenshots/ec2-p6/villa-app.png)
- ![Klassy Cafe Website](./screenshots/ec2-p6/cafe-app.png)
- ![Load Balancer Setup](./screenshots/ec2-p6/lb-setup.png)
- ![Target Groups](./screenshots/ec2-p6/target-groups.png)
- ![Route 53 DNS](./screenshots/ec2-p6/route53.png)
- ![Blue-Green Switch](./screenshots/ec2-p6/bg-switch.png)
- ![Termination](./screenshots/ec2-p6/termination.png)

## Notes
- Blue-Green deployment minimizes downtime by maintaining two identical environments.
- Route 53 + ALB enables seamless traffic switching between Blue and Green.
- Health checks ensure only healthy instances receive traffic.
- Path-based routing allows multiple applications under one ALB.
- ACM provides SSL/TLS certificates for secure HTTPS access.
- Always clean up unused instances, ALBs, and DNS records to avoid charges.
